/* Panel Container - now a dropdown */
.system-logs-panel {
  position: absolute;
  top: 140%;
  /* Anchor below the button with some gap */
  right: -100px;
  /* Center or align relative to button */
  /* If the button is 40px, and panel is 350px.
     (350 - 40) / 2 = 155px offset to center.
     Let's try aligning it slightly more to the left/right depending on screen space.
     Center logic: right: calc(50% - 175px); but this depends on parent width.
     Parent is 40px. 50% is 20px. 20 - 175 = -155px.
     Let's use right: -155px for centered.
     Or right: 0 causes it to be flush right.
     Let's use right: -60px to shift it slightly left but not fully centered if close to edge.
     Let's try centering it generally.
  */
  right: -120px;
  width: 350px;
  max-height: 500px;
  height: auto;
  background: linear-gradient(135deg, rgba(20, 20, 35, 0.98), rgba(30, 30, 50, 0.98));
  border: 1px solid rgba(0, 255, 255, 0.2);
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  animation: dropdownFadeIn 0.2s ease;
  overflow: hidden;
  cursor: default;
  /* Reset cursor from pointer inheriting from button */
}

/* Arrow pointing to bell */
.system-logs-panel::before {
  content: '';
  position: absolute;
  top: -6px;
  right: 135px;
  /* Adjust based on panel centering relative to bell */
  /* If panel is shifted right: -120px... the bell center is at 50% of 40px = 20px.
     Inside the panel frame of ref:
     Bell center is roughly at "right: 140px" mark of the panel?
     Let's estimate. Visual check needed.
     Button width 40. Panel 350. Right -120 offset.
     The right edge of button is at 0 (parent coords).
     The right edge of panel is at -120 (so panel right is 120px left of button right).
     Wait, positive right moves left inside absolute? No.
     right: -120px means the right edge of panel is 120px to the RIGHT of the right edge of button.
     So panel is shifted right.
     Bell center is at 20px from button right.
     Panel right edge is at -120px relative to button right.
     So bell center relative to panel right edge is: 120 + 20 = 140px.
     So arrow should be at right: 134px (center - half arrow width 6).
  */
  right: 134px;
  width: 12px;
  height: 12px;
  background: rgba(20, 20, 35, 0.98);
  border-left: 1px solid rgba(0, 255, 255, 0.2);
  border-top: 1px solid rgba(0, 255, 255, 0.2);
  transform: rotate(45deg);
  z-index: 1001;
}

/* Remove backdrop for dropdown feel */
.system-logs-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
  z-index: 999;
}

@keyframes dropdownFadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.system-logs-header {
  padding: 16px 20px;
  border-bottom: 1px solid rgba(0, 255, 255, 0.15);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(0, 0, 0, 0.2);
}

.system-logs-header h3 {
  font-size: 0.9rem;
  font-weight: 700;
  color: var(--text-secondary);
  margin: 0;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

/* Adjust anomaly badge size for compact view */
.anomaly-badge {
  display: none;
  /* Hide in header, too cluttered for dropdown */
}

/* Make header more compact */
.close-btn {
  display: none;
  /* Don't need explicit close in dropdown, clicking outside works */
}

.system-logs-content {
  flex: 1;
  overflow-y: auto;
  max-height: 400px;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0;
}

.log-item {
  padding: 12px 20px;
  border-radius: 0;
  border-left: 3px solid transparent;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  transition: all 0.2s ease;
  animation: none;
  /* Disable slide animation for crisp feel */
}

.log-item:last-child {
  border-bottom: none;
}

.log-item:hover {
  background: rgba(255, 255, 255, 0.05);
}

.log-message {
  font-size: 0.85rem;
  line-height: 1.4;
  color: var(--text-primary);
  padding-left: 0;
  /* Align with left edge better */
}

.log-time {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 2px;
  font-family: 'Courier New', monospace;
}

/* Ensure critical items pop */
.log-item-critical .log-message {
  color: var(--alert-critical);
  font-weight: 500;
}

.log-item-critical .log-time {
  color: rgba(255, 50, 50, 0.7);
}

/* Hide dots/icons to match user screenshot style */
.log-icon-dot {
  display: none;
}


.system-logs-panel {
  position: fixed;
  top: 0;
  right: 0;
  width: 450px;
  height: 100vh;
  background: linear-gradient(135deg, rgba(20, 20, 35, 0.98), rgba(30, 30, 50, 0.98));
  border-left: 1px solid rgba(0, 255, 255, 0.2);
  box-shadow: -10px 0 40px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  animation: slideInRight 0.3s ease;
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }

  to {
    transform: translateX(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.system-logs-header {
  padding: 24px;
  border-bottom: 1px solid rgba(0, 255, 255, 0.15);
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
}

.system-logs-header h3 {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 8px 0;
  letter-spacing: 1px;
}

.anomaly-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  background: rgba(255, 50, 50, 0.15);
  border: 1px solid var(--alert-critical);
  border-radius: 12px;
  color: var(--alert-critical);
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  animation: pulse 2s infinite;
}

@keyframes pulse {

  0%,
  100% {
    box-shadow: 0 0 10px rgba(255, 50, 50, 0.3);
  }

  50% {
    box-shadow: 0 0 20px rgba(255, 50, 50, 0.5);
  }
}

.close-btn {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  color: var(--text-secondary);
}

.close-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: var(--primary-neon);
  color: var(--primary-neon);
  transform: rotate(90deg);
}

.system-logs-content {
  flex: 1;
  overflow-y: auto;
  padding: 16px 24px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.system-logs-content::-webkit-scrollbar {
  width: 6px;
}

.system-logs-content::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
}

.system-logs-content::-webkit-scrollbar-thumb {
  background: rgba(0, 255, 255, 0.3);
  border-radius: 3px;
}

.system-logs-content::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 255, 255, 0.5);
}

.log-item {
  padding: 12px 16px;
  border-radius: 8px;
  border-left: 3px solid transparent;
  transition: all 0.2s ease;
  animation: slideInLog 0.3s ease backwards;
}

.log-item:nth-child(1) {
  animation-delay: 0.05s;
}

.log-item:nth-child(2) {
  animation-delay: 0.1s;
}

.log-item:nth-child(3) {
  animation-delay: 0.15s;
}

.log-item:nth-child(4) {
  animation-delay: 0.2s;
}

.log-item:nth-child(5) {
  animation-delay: 0.25s;
}

@keyframes slideInLog {
  from {
    opacity: 0;
    transform: translateX(20px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.log-item-critical {
  background: rgba(255, 50, 50, 0.08);
  border-left-color: var(--alert-critical);
}

.log-item-critical:hover {
  background: rgba(255, 50, 50, 0.12);
  transform: translateX(-4px);
}

.log-item-normal {
  background: rgba(255, 255, 255, 0.03);
  border-left-color: rgba(255, 255, 255, 0.2);
}

.log-item-normal:hover {
  background: rgba(255, 255, 255, 0.05);
  transform: translateX(-4px);
}

.log-time {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 4px;
  font-family: 'Courier New', monospace;
}

.log-icon-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--text-secondary);
}

.log-message {
  font-size: 0.9rem;
  line-height: 1.5;
  color: var(--text-primary);
  padding-left: 24px;
}

.log-item-critical .log-message {
  color: var(--alert-critical);
  font-weight: 500;
}

/* Responsive */
@media (max-width: 768px) {
  .system-logs-panel {
    width: 100%;
  }
}